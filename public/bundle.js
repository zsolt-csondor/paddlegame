!function(t){var i={};function e(s){if(i[s])return i[s].exports;var h=i[s]={i:s,l:!1,exports:{}};return t[s].call(h.exports,h,h.exports,e),h.l=!0,h.exports}e.m=t,e.c=i,e.d=function(t,i,s){e.o(t,i)||Object.defineProperty(t,i,{enumerable:!0,get:s})},e.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},e.t=function(t,i){if(1&i&&(t=e(t)),8&i)return t;if(4&i&&"object"==typeof t&&t&&t.__esModule)return t;var s=Object.create(null);if(e.r(s),Object.defineProperty(s,"default",{enumerable:!0,value:t}),2&i&&"string"!=typeof t)for(var h in t)e.d(s,h,function(i){return t[i]}.bind(null,h));return s},e.n=function(t){var i=t&&t.__esModule?function(){return t.default}:function(){return t};return e.d(i,"a",i),i},e.o=function(t,i){return Object.prototype.hasOwnProperty.call(t,i)},e.p="",e(e.s=0)}([function(t,i,e){"use strict";e.r(i);class s{constructor(t){this.context=t.context,this.gameWidth=t.gameWidth,this.gameHeight=t.gameHeight,this.width=150,this.height=20,this.maxSpeed=7,this.speed=0,this.position={x:this.gameWidth/2-this.width/2,y:this.gameHeight-this.height-10}}moveLeft(){this.speed=-1*this.maxSpeed}moveRight(){this.speed=this.maxSpeed}stop(){this.speed=0}draw(){this.context.fillRect(this.position.x,this.position.y,this.width,this.height)}update(t){this.position.x+=this.speed,this.position.x<=0&&(this.position.x=0),this.position.x+this.width>=this.gameWidth&&(this.position.x=this.gameWidth-this.width)}}function h(t,i){let e=t.position.y+t.radius,s=t.position.y-t.radius,h=i.position.y,o=i.position.y+i.height,n=i.position.x,a=i.position.x+i.width;return e>h&&s<o&&t.position.x-t.radius<a&&t.position.x+t.radius>n}class o{constructor(t){this.context=t.context,this.gameWidth=t.gameWidth,this.gameHeight=t.gameHeight,this.radius=10,this.position={x:this.gameWidth/2-this.radius/2,y:this.gameHeight/4},this.speed={x:4,y:4},this.game=t}resetPosition(){this.position={x:this.gameWidth/2-this.radius/2,y:this.gameHeight/4}}draw(){this.context.fillStyle="#ff0066",this.context.beginPath(),this.context.arc(this.position.x,this.position.y,this.radius,0,2*Math.PI),this.context.fill(),this.context.fillStyle="#000000"}update(t){(this.position.x+this.radius>=this.gameWidth||this.position.x-this.radius<=0)&&(this.speed.x*=-1),this.position.y-this.radius<=0&&(this.speed.y*=-1),this.position.y+this.radius>=this.gameHeight&&(this.game.lives--,this.resetPosition()),h(this,this.game.paddle)&&(this.speed.y*=-1),this.position.x+=this.speed.x,this.position.y+=this.speed.y}}class n{constructor(t,i,e,s){this.context=t.context,this.game=t,this.width=t.gameWidth/10,this.height=t.gameHeight/20,this.position={x:i.x,y:i.y},this.markedForDeletion=!1}draw(){this.context.fillStyle="#ff0000",this.context.fillRect(this.position.x,this.position.y,this.width,this.height)}update(){h(this.game.ball,this)&&(this.markedForDeletion=!0,this.game.ball.speed.y*=-1)}}class a{constructor(t,i){document.addEventListener("keydown",e=>{37===e.keyCode?t.moveLeft():39===e.keyCode?t.moveRight():27===e.keyCode?i.togglePause():32===e.keyCode&&i.start()}),document.addEventListener("keyup",i=>{37===i.keyCode?t.speed<0&&t.stop():39===i.keyCode&&t.speed>0&&t.stop()})}}const r=[[[1,1,1,1,1,1,1,1,1,1],[1,1,1,1,1,1,1,1,1,1]],[[1,1,1,1,1,1,1,1,1,1],[0,0,0,1,1,1,1,0,0,0]]];function l(t,i){if(null==i)return void console.error("levelDesc null or undefined in buildLevel");let e=[],s=new n(t,{x:-1,y:-1});for(let h=0;h<i.length;h++)for(let o=0;o<i[h].length;o++)if(1===i[h][o]){let i={x:o*s.width,y:50+h*s.height};e.push(new n(t,i))}return e}let c=document.getElementById("gameScreen").getContext("2d");const d=800,g=600;let f=0,m=new class{constructor(t,i,e){this.context=t,this.gameWidth=i,this.gameHeight=e,this.GAMESTATES={PAUSED:0,RUNNING:1,MENU:2,GAMEOVER:3,NEWLEVEL:4,GAMEWON:5},this.gamestate=this.GAMESTATES.MENU,this.ball=new o(this),this.paddle=new s(this),this.inputHandler=new a(this.paddle,this),this.bricks=l(this,r[0]),this.gameObjects=[this.ball,this.paddle],this.lives=2,this.levels=r,this.currentLevel=0}start(){this.gamestate!==this.GAMESTATES.GAMEOVER&&this.gamestate!==this.GAMESTATES.GAMEWON||(this.currentLevel=0),this.bricks=l(this,this.levels[this.currentLevel]),this.lives=2,this.gamestate=this.GAMESTATES.RUNNING}draw(){[...this.gameObjects,...this.bricks].forEach(t=>t.draw()),this.gamestate===this.GAMESTATES.PAUSED?(this.context.rect(0,0,this.gameWidth,this.gameHeight),this.context.fillStyle="rgba(0, 0, 0, 0.5)",this.context.fill(),this.context.font="30px Arial",this.context.fillStyle="#ffffff",this.context.textAlign="center",this.context.fillText("Paused",this.gameWidth/2,this.gameHeight/2)):this.gamestate===this.GAMESTATES.MENU?(this.context.rect(0,0,this.gameWidth,this.gameHeight),this.context.fillStyle="#000000",this.context.fill(),this.context.font="30px Arial",this.context.fillStyle="#ffffff",this.context.textAlign="center",this.context.fillText("Press SPACEBAR to Start",this.gameWidth/2,this.gameHeight/2)):this.gamestate===this.GAMESTATES.GAMEOVER?(this.context.rect(0,0,this.gameWidth,this.gameHeight),this.context.fillStyle="#000000",this.context.fill(),this.context.font="30px Arial",this.context.fillStyle="#ffffff",this.context.textAlign="center",this.context.fillText("Game Over :-( Press SPACEBAR to Restart",this.gameWidth/2,this.gameHeight/2)):this.gamestate===this.GAMESTATES.GAMEWON&&(this.context.rect(0,0,this.gameWidth,this.gameHeight),this.context.fillStyle="#000000",this.context.fill(),this.context.font="30px Arial",this.context.fillStyle="#ffffff",this.context.textAlign="center",this.context.fillText("You Won! :-) Press SPACEBAR to Play Again",this.gameWidth/2,this.gameHeight/2))}update(t){this.gamestate!==this.GAMESTATES.PAUSED&&this.gamestate!==this.GAMESTATES.MENU&&this.gamestate!==this.GAMESTATES.GAMEOVER&&this.gamestate!==this.GAMESTATES.GAMEWON&&(0===this.lives&&(this.gamestate=this.GAMESTATES.GAMEOVER),[...this.gameObjects,...this.bricks].forEach(i=>i.update(t)),this.bricks=this.bricks.filter(t=>!t.markedForDeletion),0===this.bricks.length&&(this.currentLevel+1===this.levels.length?this.gamestate=this.GAMESTATES.GAMEWON:(this.currentLevel++,this.gamestate=this.GAMESTATES.NEWLEVEL,this.start())))}togglePause(){this.gamestate===this.GAMESTATES.PAUSED?this.gamestate=this.GAMESTATES.RUNNING:this.gamestate===this.GAMESTATES.RUNNING&&(this.gamestate=this.GAMESTATES.PAUSED)}}(c,d,g);requestAnimationFrame(function t(i){let e=i-f;f=i,c.clearRect(0,0,d,g),m.update(e),m.draw(),requestAnimationFrame(t)})}]);